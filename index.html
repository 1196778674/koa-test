<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>koa</title>
	<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
	<link rel="stylesheet" href="">
</head>
<body>
	<button type="" id="btn">get</button>
	<button type="" id="post">post</button>
	<div id="name"></div>

	<script type="text/javascript">
		$(function(){
			$('#btn').on('click', function(event) {
				event.preventDefault();
				ajax('/index', {}, 'get', function (res) {
					console.log(res);
				});
			});
			$('#post').on('click', function(event) {
				event.preventDefault();
				ajax('/post', {test: 123}, 'post', function (res) {
					let datas = res.data;
					$('#name').text(datas.name);
				});
			});
		})

		function ajax (url, parmas, type, callback, error={}) {
			let domain = 'http://192.168.111.207:1234';
			$.ajax({
				url: domain + url,
				type: type.toUpperCase(),
				dataType: 'json',
				data: parmas,
			})
			.done(function(res) {
				callback(res)
			})
			.fail(function(res) {
				error(res)
			})
			
		}

	</script>
</body>
</html>